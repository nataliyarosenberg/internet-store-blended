{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\nconst URL = 'https://dummyjson.com/products';\nconst ENDPOINT = '/category-list';\nexport async function fetchCategories() {\n  try {\n    const response = await axios(`${URL}${ENDPOINT}`);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function fetchProducts(currentPage = 1) {\n  try {\n    const res = await axios(`${URL}?limit=12&skip=${(currentPage - 1) * 12}`);\n    return res.data.products;\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nexport async function fetchProductsByCategory(category, currentPage = 1) {\n  try {\n    const resp = await axios(\n      `${URL}/category/${category}?limit=12&skip=${(currentPage - 1) * 12}`\n    );\n    return resp.data.products;\n  } catch (error) {\n    console.error(`Error`, error);\n    return [];\n  }\n}\n","export default {\n  categotiesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n};\n","import refs from './refs';\n\nexport function renderCategoriesMap(categories) {\n  categories.unshift('All');\n  const markup = categories\n    .map(category => {\n      return `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`;\n    })\n    .join('');\n  refs.categotiesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(({ thumbnail, id, title, brand, category, price }) => {\n      return `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category:${category} </p>\n    <p class=\"products__price\">Price:${price} $</p>\n </li>`;\n    })\n    .join('');\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearProducts() {\n  refs.productsList.innerHTML = '';\n}\n","import { fetchProductsByCategory, fetchProducts } from './products-api';\nimport { clearProducts, renderProducts } from './render-function';\nimport refs from './refs';\n\nexport async function handlerClickOnCategory(e) {\n  if (!e.target.classList.contains(`categories__btn`)) return;\n\n  const currtntBtn = e.target;\n\n  const selectedCategory = currtntBtn.textContent.trim();\n\n  const products =\n    selectedCategory === 'All'\n      ? await fetchProducts()\n      : await fetchProductsByCategory(selectedCategory);\n\n  clearProducts();\n\n  renderProducts(products);\n\n  const buttons = refs.categotiesList.querySelectorAll('.categories__btn');\n\n  buttons.forEach(btn => {\n    btn.classList.remove('categories__btn--active');\n  });\n\n  currtntBtn.classList.add('categories__btn--active');\n}\n","//Логіка сторінки Home\nimport { fetchCategories, fetchProducts } from './js/products-api';\nimport { renderCategoriesMap, renderProducts } from './js/render-function';\nimport { handlerClickOnCategory } from './js/handlers';\nimport refs from './js/refs';\n\nasync function initPage() {\n  const categories = await fetchCategories();\n  renderCategoriesMap(categories);\n  const products = await fetchProducts();\n  renderProducts(products);\n}\n\ninitPage();\n\nrefs.categotiesList.addEventListener(`click`, handlerClickOnCategory);\n"],"names":["URL","ENDPOINT","fetchCategories","axios","error","fetchProducts","currentPage","fetchProductsByCategory","category","refs","renderCategoriesMap","categories","markup","renderProducts","products","thumbnail","id","title","brand","price","clearProducts","handlerClickOnCategory","e","currtntBtn","selectedCategory","btn","initPage"],"mappings":"+EACA,MAAMA,EAAM,iCACNC,EAAW,iBACV,eAAeC,GAAkB,CACtC,GAAI,CAEF,OADiB,MAAMC,EAAM,GAAGH,CAAG,GAAGC,CAAQ,EAAE,GAChC,IACjB,OAAQG,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAEO,eAAeC,EAAcC,EAAc,EAAG,CACnD,GAAI,CAEF,OADY,MAAMH,EAAM,GAAGH,CAAG,mBAAmBM,EAAc,GAAK,EAAE,EAAE,GAC7D,KAAK,QACjB,OAAQF,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEO,eAAeG,EAAwBC,EAAUF,EAAc,EAAG,CACvE,GAAI,CAIF,OAHa,MAAMH,EACjB,GAAGH,CAAG,aAAaQ,CAAQ,mBAAmBF,EAAc,GAAK,EAAE,EACzE,GACgB,KAAK,QAClB,OAAQF,EAAO,CACd,eAAQ,MAAM,QAASA,CAAK,EACrB,EACR,CACH,CC/BA,MAAeK,EAAA,CACb,eAAgB,SAAS,cAAc,aAAa,EACpD,aAAc,SAAS,cAAc,WAAW,CAClD,ECDO,SAASC,EAAoBC,EAAY,CAC9CA,EAAW,QAAQ,KAAK,EACxB,MAAMC,EAASD,EACZ,IAAIH,GACI;AAAA,mDACsCA,CAAQ;AAAA,OAEtD,EACA,KAAK,EAAE,EACVC,EAAK,eAAe,mBAAmB,YAAaG,CAAM,CAC5D,CAEO,SAASC,EAAeC,EAAU,CACvC,MAAMF,EAASE,EACZ,IAAI,CAAC,CAAE,UAAAC,EAAW,GAAAC,EAAI,MAAAC,EAAO,MAAAC,EAAO,SAAAV,EAAU,MAAAW,KACtC;AAAA,0CAC6BH,CAAE;AAAA,wCACJD,CAAS;AAAA,iCAChBE,CAAK;AAAA,2EACqCC,CAAK;AAAA,6CACnCV,CAAQ;AAAA,uCACdW,CAAK;AAAA,OAEvC,EACA,KAAK,EAAE,EACVV,EAAK,aAAa,mBAAmB,YAAaG,CAAM,CAC1D,CAEO,SAASQ,GAAgB,CAC9BX,EAAK,aAAa,UAAY,EAChC,CC5BO,eAAeY,EAAuBC,EAAG,CAC9C,GAAI,CAACA,EAAE,OAAO,UAAU,SAAS,iBAAiB,EAAG,OAErD,MAAMC,EAAaD,EAAE,OAEfE,EAAmBD,EAAW,YAAY,KAAI,EAE9CT,EACJU,IAAqB,MACjB,MAAMnB,EAAe,EACrB,MAAME,EAAwBiB,CAAgB,EAEpDJ,IAEAP,EAAeC,CAAQ,EAEPL,EAAK,eAAe,iBAAiB,kBAAkB,EAE/D,QAAQgB,GAAO,CACrBA,EAAI,UAAU,OAAO,yBAAyB,CAClD,CAAG,EAEDF,EAAW,UAAU,IAAI,yBAAyB,CACpD,CCrBA,eAAeG,GAAW,CACxB,MAAMf,EAAa,MAAMT,IACzBQ,EAAoBC,CAAU,EAC9B,MAAMG,EAAW,MAAMT,IACvBQ,EAAeC,CAAQ,CACzB,CAEAY,IAEAjB,EAAK,eAAe,iBAAiB,QAASY,CAAsB"}